<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>plot accumulated local effects (ALE) — plotQALE • SPQR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="plot accumulated local effects (ALE) — plotQALE"><meta name="description" content="Computes and plots the quantile ALEs of a SPQR class object. The function plots the ALE main effects across
tau for a single covariate using line plots, and the ALE interaction effects between two covariates
across tau using contour plots."><meta property="og:description" content="Computes and plots the quantile ALEs of a SPQR class object. The function plots the ALE main effects across
tau for a single covariate using line plots, and the ALE interaction effects between two covariates
across tau using contour plots."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SPQR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/reetamm/SPQR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>plot accumulated local effects (ALE)</h1>
      <small class="dont-index">Source: <a href="https://github.com/reetamm/SPQR/blob/HEAD/R/plotQALE.R" class="external-link"><code>R/plotQALE.R</code></a></small>
      <div class="d-none name"><code>plotQALE.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes and plots the quantile ALEs of a <code>SPQR</code> class object. The function plots the ALE main effects across
<code>tau</code> for a single covariate using line plots, and the ALE interaction effects between two covariates
across <code>tau</code> using contour plots.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotQALE</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object of class <code>"SPQR"</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="QALE.html">QALE</a></code></p><dl><dt><code>var.index</code></dt>
<dd><p>a numeric scalar or length-two vector of indices of the
covariates for which the ALEs will be calculated. When <code>length(var.index) = 1</code>,
the function computes the main effect for <code>X[,var.index]</code>. When <code>length(var.index) = 2</code>,
the function computes the interaction effect between <code>X[,var.index[1]]</code> and <code>X[,var.index[2]]</code>.</p></dd>

    <dt><code>tau</code></dt>
<dd><p>The quantiles of interest.</p></dd>

    <dt><code>n.bins</code></dt>
<dd><p>the maximum number of intervals into which the covariate range is divided when
  calculating the ALEs. The actual number of intervals depends on the number of unique values in
<code>X[,var.index]</code>. When <code>length(var.index) = 2</code>, <code>n.bins</code> is applied to both covariates.</p></dd>

    <dt><code>ci.level</code></dt>
<dd><p>The credible level for computing the pointwise credible intervals for ALE
when <code>length(var.index) = 1</code>. The default is 0 indicating no credible intervals should be computed.</p></dd>

    <dt><code>getAll</code></dt>
<dd><p>If <code>TRUE</code> and <code>length(var.index) = 1</code>, extracts all posterior samples of ALE.</p></dd>

    <dt><code>pred.fun</code></dt>
<dd><p>A function that will be used instead of <code><a href="predict.SPQR.html">predict.SPQR()</a></code>
for computing predicted quantiles given covariates. This can be useful when the user wants to compare
the QALE calculated using SPQR to that using other quantile regression models, or maybe that using
the true model in a simulation study.</p></dd>


</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot</code> object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">919</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n</span>,<span class="fl">0</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>,<span class="va">X</span><span class="op">^</span><span class="fl">2</span>,<span class="fl">0.3</span><span class="op">+</span><span class="va">X</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>iter <span class="op">=</span> <span class="fl">200</span>, warmup <span class="op">=</span> <span class="fl">150</span>, thin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="SPQR.html">SPQR</a></span><span class="op">(</span>X<span class="op">=</span><span class="va">X</span>, Y<span class="op">=</span><span class="va">Y</span>, n.knots<span class="op">=</span><span class="fl">12</span>, n.hidden<span class="op">=</span><span class="fl">3</span>, method<span class="op">=</span><span class="st">"MCMC"</span>,</span></span>
<span class="r-in"><span>            control<span class="op">=</span><span class="va">control</span>, normalize<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting NUTS at 2026-02-13 20:21:09.383212</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in globalCallingHandlers(condition = global_progression_handler):</span> should not be called with handlers on the stack</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## compute quantile ALE main effect of X at tau = 0.2,0.5,0.8</span></span></span>
<span class="r-in"><span><span class="fu">plotQALE</span><span class="op">(</span><span class="va">fit</span>, var.index<span class="op">=</span><span class="fl">1</span>, tau<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'fit' not found</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Reetam Majumder, Steven Xu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

